(()=>{"use strict";var t={187:(t,e,r)=>{r.r(e)},212:function(t,e,r){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Demo=void 0;var o=i(r(658)),n=function(){function t(t){this.wrapper=t,this.children=this.wrapper.querySelectorAll(":scope > div");var e=o.default.worldSize,r=e[0],i=e[1];this.wrapper.style.gridTemplate="repeat("+r+","+100/r+"%)/repeat("+i+","+100/i+"%)"}return t.prototype.render=function(t){var e=this,r=t.map,i=t.prevMap;Object.keys(i).forEach((function(t){var o=e.wrapper.querySelector('[data-idx="'+t+'"]');i[t],o.style.backgroundColor=r[t].color}))},t.prototype.start=function(){this.wrapper.classList.add("start")},t.prototype.stop=function(){this.wrapper.classList.remove("start")},t}();e.Demo=n},286:function(t,e,r){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dot=void 0;var o=i(r(658)),n=o.default.backgroundColor,a=o.default.unitColor,u=function(){function t(t,e,r){this.x=e,this.y=r,this.life=t}return Object.defineProperty(t.prototype,"life",{get:function(){return this.isLife},set:function(t){this.isLife=t,this.color=t?a:n},enumerable:!1,configurable:!0}),t}();e.Dot=u},806:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var r=function(){function t(t,e){var r=t.worldSize,i=r[0],o=r[1];this.x=i,this.y=o,this.map=e,this.prevMap={},this.setMapList(Object.keys(this.map)),this.lifeCount=this.cntLifeDot()}return t.prototype.cntLifeDot=function(){return Object.keys(this.prevTrueMap).length},t.prototype.on=function(t){var e=this;return this.setMapList(t,(function(t){e.map[t].life=!0})),this},t.prototype.off=function(t){var e=this;return this.setMapList(t,(function(t){e.map[t].life=!1})),this},t.prototype.toggle=function(t){var e=this;return this.setMapList(t,(function(t){e.map[t].life=!e.map[t].life})),this},t.prototype.setMapList=function(t,e){var r="string"==typeof t?[t]:t;e&&r.forEach((function(t){e(t)})),this.setPrevMap(r)},t.prototype.setPrevMap=function(t){var e=this;t.forEach((function(t){e.prevMap[t]=e.map[t].life})),this.prevTrueMap=Object.keys(this.prevMap).filter((function(t){return e.map[t].life})).reduce((function(t,r){return t[r]=e.map[r],t}),{}),this.lifeCount=this.cntLifeDot()},t}();e.Grid=r},672:function(t,e,r){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Simulator=void 0;var n=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.tick=e.tickTime,i}return o(e,t),e.prototype.start=function(t){var e=this;void 0===this.interval&&(this.renderer=t,this.renderer.start(),this.interval=setInterval((function(){e.update(),e.renderer.render(e)}),this.tick))},e.prototype.stop=function(){clearInterval(this.interval),this.renderer.stop(),this.interval=void 0},e.prototype.cntIsLife=function(t){var e=this,r=0;return this.getNeighbor(t).forEach((function(t){e.prevMap[t]&&r++})),r},e.prototype.getNeighbor=function(t){var e=this,r=t.split("-").map((function(t){return+t})),i=r[0],o=r[1],n=function(t,r){return t*e.y+r};return[this.map[i-1+"-"+(o-1)+"-"+n(i-1,o-1)]?i-1+"-"+(o-1)+"-"+n(i-1,o-1):"",this.map[i-1+"-"+o+"-"+n(i-1,o)]?i-1+"-"+o+"-"+n(i-1,o):"",this.map[i-1+"-"+(o+1)+"-"+n(i-1,o+1)]?i-1+"-"+(o+1)+"-"+n(i-1,o+1):"",this.map[i+"-"+(o-1)+"-"+n(i,o-1)]?i+"-"+(o-1)+"-"+n(i,o-1):"",this.map[i+"-"+(o+1)+"-"+n(i,o+1)]?i+"-"+(o+1)+"-"+n(i,o+1):"",this.map[i+1+"-"+(o-1)+"-"+n(i+1,o-1)]?i+1+"-"+(o-1)+"-"+n(i+1,o-1):"",this.map[i+1+"-"+o+"-"+n(i+1,o)]?i+1+"-"+o+"-"+n(i+1,o):"",this.map[i+1+"-"+(o+1)+"-"+n(i+1,o+1)]?i+1+"-"+(o+1)+"-"+n(i+1,o+1):""].filter((function(t){return""!==t}))},e.prototype.getUpdateTarget=function(){var t=this;return Array.from(new Set(Object.keys(this.prevTrueMap).reduce((function(e,r){var i=t.getNeighbor(r);return e.concat(i)}),[]).concat(Object.keys(this.prevTrueMap))))},e.prototype.update=function(){var t=this,e=this.getUpdateTarget();return this.setMapList(e,(function(e){switch(t.cntIsLife(e)){case 2:!0===t.map[e].life?t.map[e].life=!0:t.map[e].life=!1;break;case 3:t.map[e].life=!0;break;default:t.map[e].life=!1}})),this},e}(r(806).Grid);e.Simulator=n},178:function(t,e,r){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(286),n=i(r(658)),a=r(672),u=n.default.worldSize,s=u[0],p=u[1],f=s*p;e.default=function(t){var e=0,r=new Array(f).fill(1).reduce((function(t,r,i){var n=Math.floor(i/s),a=i%p,u=Math.round(10*Math.random())%2==0&&e<120;return u&&e++,t[n+"-"+a+"-"+i]=new o.Dot(u,n,a),t}),{});return new a.Simulator(t,r)}},519:function(t,e,r){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(212),n=i(r(178)),a=i(r(658));r(187),function(){var t=a.default.worldSize,e=t[0],r=t[1],i=e*r,u=document.querySelector("#wrapper");window.world=(0,n.default)(a.default),window.demo=new o.Demo(u);for(var s=function(t){var i=Math.floor(t/e),o=t%r,n=document.createElement("div");n.setAttribute("data-idx",i+"-"+o+"-"+t),n.addEventListener("click",(function(){window.world.toggle(i+"-"+o+"-"+t),window.demo.render(window.world)})),null==u||u.append(n)},p=0;p<i;p++)s(p)}()},658:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={worldSize:[24,24],tickTime:300,backgroundColor:"#fff",unitColor:"rgba(222,80,50,1)"}}},e={};function r(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,r),n.exports}r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(519)})();